#:kivy 2.1.0

<AdminPinEntryPopup>:
    size_hint: (0.6, 0.7)
    auto_dismiss: False
    GridLayout:
        canvas:
            Color:
                rgba: app.colors["secondary_background"]
            Rectangle:
                pos: self.pos
                size: self.size
        cols: 1
        padding: 20
        spacing: 10
        
        # Title
        Label:
            text: "Admin Access"
            font_size: self.height / 2
            size_hint_y: 0.1
            bold: True
            color: 1, 1, 1, 1
        
        # Subtitle
        Label:
            text: "Enter Admin PIN"
            font_size: self.height / 2.5
            size_hint_y: 0.1
            color: 0.9, 0.9, 0.9, 1
        
        # PIN Display
        Label:
            id: pin_display
            text: ""
            font_size: self.height / 2
            size_hint_y: 0.15
            color: 1, 1, 1, 1
        
        # Error Label
        Label:
            id: error_label
            text: ""
            font_size: self.height / 2.5
            size_hint_y: 0.1
            color: 1, 0.3, 0.3, 1
        
        # Numeric Keypad
        GridLayout:
            cols: 3
            spacing: 10
            size_hint_y: 0.45
            
            # Row 1: 1, 2, 3
            Button:
                text: "1"
                font_size: self.height / 2
                background_color: app.colors["button"]
                on_release: root.on_number_pressed(1)
            Button:
                text: "2"
                font_size: self.height / 2
                background_color: app.colors["button"]
                on_release: root.on_number_pressed(2)
            Button:
                text: "3"
                font_size: self.height / 2
                background_color: app.colors["button"]
                on_release: root.on_number_pressed(3)
            
            # Row 2: 4, 5, 6
            Button:
                text: "4"
                font_size: self.height / 2
                background_color: app.colors["button"]
                on_release: root.on_number_pressed(4)
            Button:
                text: "5"
                font_size: self.height / 2
                background_color: app.colors["button"]
                on_release: root.on_number_pressed(5)
            Button:
                text: "6"
                font_size: self.height / 2
                background_color: app.colors["button"]
                on_release: root.on_number_pressed(6)
            
            # Row 3: 7, 8, 9
            Button:
                text: "7"
                font_size: self.height / 2
                background_color: app.colors["button"]
                on_release: root.on_number_pressed(7)
            Button:
                text: "8"
                font_size: self.height / 2
                background_color: app.colors["button"]
                on_release: root.on_number_pressed(8)
            Button:
                text: "9"
                font_size: self.height / 2
                background_color: app.colors["button"]
                on_release: root.on_number_pressed(9)
            
            # Row 4: Clear, 0, Backspace
            Button:
                text: "Clear"
                font_size: self.height / 3
                background_color: app.colors["orange_button"]
                on_release: root.on_clear_pressed()
            Button:
                text: "0"
                font_size: self.height / 2
                background_color: app.colors["button"]
                on_release: root.on_number_pressed(0)
            Button:
                text: "‚Üê"
                font_size: self.height / 2
                background_color: app.colors["orange_button"]
                on_release: root.on_backspace_pressed()
        
        # Cancel Button
        Button:
            text: "Cancel"
            font_size: self.height / 2.5
            size_hint_y: 0.1
            background_color: app.colors["red_button"]
            on_release: root.on_cancel_pressed()
